<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<title data-react-helmet="true">Node Operator Manual | Lido Docs</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://lidofinance.github.io/guides/node-operator-manual"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Node Operator Manual | Lido Docs"><meta data-react-helmet="true" name="description" content="This document is intended for those who wish to participate in the Lido protocol as Node Operators â€” entities"><meta data-react-helmet="true" property="og:description" content="This document is intended for those who wish to participate in the Lido protocol as Node Operators â€” entities"><link data-react-helmet="true" rel="icon" href="/img/favicon-32x32.png"><link data-react-helmet="true" rel="canonical" href="https://lidofinance.github.io/guides/node-operator-manual"><link data-react-helmet="true" rel="alternate" href="https://lidofinance.github.io/guides/node-operator-manual" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://lidofinance.github.io/guides/node-operator-manual" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.8c219a48.css">
<link rel="preload" href="/assets/js/runtime~main.58ba80df.js" as="script">
<link rel="preload" href="/assets/js/main.41292468.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Lido Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/logo.svg" alt="Lido Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">Lido Docs</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/lidofinance" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ðŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ðŸŒž</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div><div class="navbar__search searchBarContainer_I7kZ"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_Zg7X searchBarLoadingRing_J5Ez"><div></div><div></div><div></div><div></div></div><div class="searchHintContainer_CDc6"><kbd class="searchHint_2RRg">ctrl</kbd><kbd class="searchHint_2RRg">K</kbd></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/lido-dao">Lido DAO</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_TwRn" href="/guides/node-operator-manual">Guides</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/guides/node-operator-manual">Node Operator Manual</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/oracle-operator-manual">Oracle Operator Manual</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/deposit-security-manual">Deposit Security Committee manual</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/multisig-deployment">Multisig deployment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/protocol-levers">Protocol levers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/etherscan-voting">DAO voting with Etherscan</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/easy-track-guide">Guide to Easy Track</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guides/checking-aragon-vote">Checking the evm script from Aragon vote</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/integrations/sdk">Integrations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/token-guides/steth-superuser-functions">Token guides</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/contracts/lido">Contracts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/security/bugbounty">Security</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/deployed-contracts">Deployed Contracts</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Node Operator Manual</h1></header><p>This document is intended for those who wish to participate in the Lido protocol as Node Operators â€” entities
who run Beacon validator nodes on behalf of the protocol and receive fee in return. It consists of
two sections: <a href="#general-overview">General overview</a> and <a href="#operations-howto">Operations HOWTO</a>.
If youâ€™re here for the technical details of interacting with the protocol, feel free to skip to
the latter.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="general-overview">General overview<a class="hash-link" href="#general-overview" title="Direct link to heading">â€‹</a></h2><p>Node Operators manage a secure and stable infrastructure for running Beacon validator clients
for the benefit of the protocol. Theyâ€™re professional staking providers who can ensure the safety
of funds belonging to the protocol users and correctness of validator operations.</p><p>The general flow is the following:</p><ol><li><p>A Node Operator expresses their interest to the DAO members. Their address gets proposed to the DAO vote for inclusion to the DAO&#x27;s Node Operator list. Note that the Node Operator address should be supplied to the DAO with zero signing keys limit.</p></li><li><p>The DAO votes for including the Operator to the list of active operators. After successful
voting for inclusion, the Node Operator becomes active.</p></li><li><p>The Node Operator generates and submits a set of signing public keys and associated signatures
for future validators that will be managed by the Operator. When generating the signatures, the
Operator must use withdrawal credentials derived from the withdrawal address supplied by the DAO.</p></li><li><p>The DAO members check the submitted keys for correctness and, if everythingâ€™s good, vote for
approving them. After successful approval, the keys become usable by the protocol.</p></li><li><p>The protocol distributes the pooled Ether evenly between all active Node Operators in <code>32 Ether</code>
chunks. When it assigns the next deposit to a Node Operator, it takes the first non-used signing
key, as well as the associated signature, from the Node Operatorâ€™s usable set and performs
a deposit to the official <code>DepositContract</code>, submitting the pooled funds. At that time, the Node
Operator should have the validator already running and configured with the public key being used.</p></li><li><p>From this point, the Node Operator is responsible for keeping the validator associated with
the signing key operable and well-behaving.</p></li><li><p>The protocol includes Oracles that periodically report the combined Beacon balance of all
validators launched by the protocol. When the balance increases as a result of Beacon chain
rewards, a fee is taken from the amount of rewards (see below for the details on how the fee
is nominated) and distributed between active Node Operators.</p></li></ol><h3 class="anchor anchorWithStickyNavbar_y2LR" id="the-fee">The fee<a class="hash-link" href="#the-fee" title="Direct link to heading">â€‹</a></h3><p>The fee is taken as a percentage from Beacon chain rewards at the moment the Oracles report
those rewards. Oracles do that once in a while â€” the exact period is decided by the DAO members
via the voting process.</p><p>The total fee percentage, as well as the percentage that goes to all Node Operators, is also decided
by the DAO voting and can be changed during the lifetime of the DAO. The Node Operatorsâ€™ part of the
fee is distributed between the active Node Operators proportionally to the number of validators that
each Node Operator runs.</p><blockquote><p>For example, if Oracles report that the protocol has received 10 Ether as a reward, the fee
percentage that goes to Operators is <code>10%</code>, and there are two active Node Operators, running
<code>2</code> and <code>8</code> validators, respectively, then the first operator will receive <code>0.2</code> StETH, the
second â€” <code>0.8</code> StETH.</p></blockquote><p>The fee is nominated in StETH, a liquid version of ETH2 token introduced by the Lido protocol. The
tokens correspond 1:1 to the Ether that the token holder would be able get by burning their StETH
if transfers were already enabled in the Beacon chain. At any time point, the total amount of StETH
tokens is equal to the total amount of Ether controlled by the protocol on both ETH1 and ETH2 sides.</p><p>When a user submits Ether to the pool, they get the same amount of freshly-minted StETH tokens.
When reward is received on the ETH2 side, each StETH holderâ€™s balance increases by the same
percentage that the total amount of protocol-controlled Ether has increased, corrected for the
protocol fee which is taken by <a href="https://github.com/lidofinance/lido-dao/blob/971ac8f/contracts/0.4.24/Lido.sol#L576" target="_blank" rel="noopener noreferrer">minting new StETH tokens</a> to the fee recipients.</p><blockquote><p>For example, if the reward has increased the total amount of protocol-controlled Ether by <code>10%</code>,
and the total protocol fee percentage is <code>10%</code>, then each token holderâ€™s balance will grow by
approximately <code>9.09%</code>, and <code>10%</code> of the reward will be forwarded to the treasury, insurance fund
and Node Operators.</p></blockquote><p>One side effect of this is that you, as a Node Operator, will continue receiving the percentage
of protocol rewards even after you stop actively validating, if you chose to hold StETH received
as a fee.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="operations-howto">Operations HOWTO<a class="hash-link" href="#operations-howto" title="Direct link to heading">â€‹</a></h2><p>Becoming a Lido Node Operator involves several steps, all of which are detailed below.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="expressing-interest-to-the-dao-holders">Expressing interest to the DAO holders<a class="hash-link" href="#expressing-interest-to-the-dao-holders" title="Direct link to heading">â€‹</a></h3><p>To include a Node Operator to the protocol, DAO holders must perform a voting. A Node Operator
is defined by an address that is used for two purposes:</p><ol><li>The protocol pays the fee by minting StETH tokens to this address.</li><li>The Node Operator uses this address for submitting signing keys to be used by the protocol.</li></ol><p>Pass this address to the DAO holders along with the other relevant information.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="generating-signing-keys">Generating signing keys<a class="hash-link" href="#generating-signing-keys" title="Direct link to heading">â€‹</a></h3><p>Upon inclusion into the protocol, a Node Operator should generate and submit a set of <a href="https://ethresear.ch/t/pragmatic-signature-aggregation-with-bls/2105" target="_blank" rel="noopener noreferrer">BLS12-381</a>
public keys that will be used by the protocol for making Beacon deposits. Along with the keys,
a Node Operator submits a set of the corresponding signatures <a href="https://github.com/ethereum/annotated-spec/blob/master/phase0/beacon-chain.md#depositmessage" target="_blank" rel="noopener noreferrer">as defined in the spec</a>. The
<code>DepositMessage</code> used for generating the signature must be the following:</p><ul><li><code>pubkey</code> must be derived from the private key used for signing the message;</li><li><code>amount</code> must equal to 32 Ether;</li><li><code>withdrawal_credentials</code> must equal to the protocol credentials set by the DAO.</li></ul><p>The fork version used for generating the signature must correspond to the fork version of the Beacon
chain the instance of Lido protocol is targeted to.</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="withdrawal-credentials">Withdrawal Credentials<a class="hash-link" href="#withdrawal-credentials" title="Direct link to heading">â€‹</a></h4><p>Make sure to obtain correct withdrawal address by finding it inside the active withdrawal credentials either on Aragon UI or by calling the contract via <a href="https://github.com/lidofinance/lido-dao/blob/971ac8f/contracts/0.4.24/Lido.sol#L312" target="_blank" rel="noopener noreferrer"><code>Lido.getWithdrawalCredentials()</code></a>. You can find the method on the <a href="https://etherscan.io/address/0xae7ab96520de3a18e5e111b5eaab095312d7fe84#readProxyContract" target="_blank" rel="noopener noreferrer">Etherscan page for the Mainnet-deployed Lido</a> and <a href="https://goerli.etherscan.io/address/0x1643E812aE58766192Cf7D2Cf9567dF2C37e9B7F#readProxyContract" target="_blank" rel="noopener noreferrer">Etherscan page for the Prater-deployed Lido</a>.</p><p>For example withdrawal credentials <code>0x010000000000000000000000b9d7934878b5fb9610b3fe8a5e441e8fad7e293f</code> mean that the withdrawal address is <code>0xb9d7934878b5fb9610b3fe8a5e441e8fad7e293f</code>. For Mainnet, always verify the address is correct using an <a href="https://etherscan.io/address/0xb9d7934878b5fb9610b3fe8a5e441e8fad7e293f" target="_blank" rel="noopener noreferrer">explorer</a> - you will see that it was deployed from the Lido deployer.</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="using-eth20-deposit-cli">Using eth2.0-deposit-cli<a class="hash-link" href="#using-eth20-deposit-cli" title="Direct link to heading">â€‹</a></h4><p>Use the latest release of <a href="https://github.com/ethereum/eth2.0-deposit-cli/releases" target="_blank" rel="noopener noreferrer"><code>eth2.0-deposit-cli</code></a>.</p><p>Example command usage:</p><div class="codeBlockContainer_J+bg language-sh theme-code-block"><div class="codeBlockContent_csEI sh"><pre tabindex="0" class="prism-code language-sh codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">./deposit new-mnemonic --folder . --num_validators 123 --mnemonic_language english --chain mainnet --eth1_withdrawal_address 0x123</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Here, <code>chain</code> is one of the public Beacon chain names (run the command with the <code>--help</code> flag
to see the possible values: <code>./deposit new-mnemonic --help</code>) and <code>eth1_withdrawal_address</code> is the withdrawal address from the protocol documentation.</p><p>As a result of running this, the <code>validator_keys</code> directory will be created in the current working
directory. It will contain a deposit data file named <code>deposit-data-*.json</code> and a number of private key
stores named <code>keystore-*.json</code>, the latter encrypted with the password you were asked for when running
the command.</p><p>If you chose to use the UI for submitting the keys, youâ€™ll need to pass the JSON data found in the
deposit data file to the protocol (see the next section). If you wish, you can remove any other
fields except <code>pubkey</code> and <code>signature</code> from the array items.</p><p>Never share the generated mnemonic and your private keys with anyone, including the protocol members
and DAO holders.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="validating-the-keys">Validating the keys<a class="hash-link" href="#validating-the-keys" title="Direct link to heading">â€‹</a></h3><p>Please, make sure to check the keys validity before submitting them on-chain.</p><p>Lido submitter has validation functionality built-in, keys will be checked before submitting.</p><p>If you will be submitting keys manually via Lido contract, you can use Lido CLI. It&#x27;s a Python package which you can install with pip:</p><div class="codeBlockContainer_J+bg language-sh theme-code-block"><div class="codeBlockContent_csEI sh"><pre tabindex="0" class="prism-code language-sh codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">pip install lido-cli</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">lido-cli --rpc http://1.2.3.4:8545 validate_file_keys --file keys.json</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>You would need an RPC endpoint - a local node / RPC provider (eg Alchemy/Infura).</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="submitting-the-keys">Submitting the keys<a class="hash-link" href="#submitting-the-keys" title="Direct link to heading">â€‹</a></h3><blockquote><p>Please note, that the withdrawal address should be added to the Lido Node Operators Registry before it can submit the signing keys. Adding an address to the Node Operators Registry happens via DAO voting. When providing withdrawal address to be added to the Node Operators Registry, keep in mind the following:</p><ul><li>it is the address that will receive rewards;</li><li>it is the address you will be using for submitting keys to Lido;</li><li>you should be able to access it at any time in case of emergency;</li><li>you can use multi-sig for it if you wish to;</li><li>you will not be able to replace it by another address/multi-sig later.</li></ul></blockquote><p>After generating the keys, a Node Operator submits them to the protocol. To do this, they send a
transaction from the Node Operatorâ€™s withdrawal address to the <code>NodeOperatorsRegistry</code> contract
instance, calling <a href="https://github.com/lidofinance/lido-dao/blob/971ac8f/contracts/0.4.24/nos/NodeOperatorsRegistry.sol#L250" target="_blank" rel="noopener noreferrer"><code>addSigningKeysOperatorBH</code> function</a> and with the following arguments:</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">* `uint256 _operator_id` the zero-based sequence number of the operator in the list.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">* `uint256 _quantity` the number of keys being submitted.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">* `bytes _pubkeys` the concatenated keys.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">* `bytes _signatures` the concatenated signatures.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>The address of the <code>NodeOperatorsRegistry</code> contract instance can be obtained by calling the
<a href="https://github.com/lidofinance/lido-dao/blob/971ac8f/contracts/0.4.24/Lido.sol#L361" target="_blank" rel="noopener noreferrer"><code>getOperators()</code> function</a> on the <code>Lido</code> contract instance. The ABI of the <code>NodeOperatorsRegistry</code>
contract can be found in <a href="https://github.com/lidofinance/lido-dao/blob/971ac8f/lib/abi/NodeOperatorsRegistry.json" target="_blank" rel="noopener noreferrer"><code>lib/abi/NodeOperatorsRegistry.json</code></a>.</p><p>Operator ID for a given reward address can be obtained by successively calling
<a href="https://github.com/lidofinance/lido-dao/blob/971ac8f/contracts/0.4.24/nos/NodeOperatorsRegistry.sol#L335" target="_blank" rel="noopener noreferrer"><code>NodeOperatorsRegistry.getNodeOperator</code></a> with the increasing <code>_id</code> argument until you get the
operator with the matching <code>rewardAddress</code>.</p><p>Etherscan pages for the GÃ¶rli/Prater contracts:</p><ul><li><a href="https://goerli.etherscan.io/address/0x1643E812aE58766192Cf7D2Cf9567dF2C37e9B7F#readProxyContract" target="_blank" rel="noopener noreferrer"><code>Lido</code></a></li><li><a href="https://goerli.etherscan.io/address/0x9D4AF1Ee19Dad8857db3a45B0374c81c8A1C6320" target="_blank" rel="noopener noreferrer"><code>NodeOperatorsRegistry</code></a></li></ul><p>Etherscan pages for the Mainnet contracts:</p><ul><li><a href="https://etherscan.io/address/0xae7ab96520de3a18e5e111b5eaab095312d7fe84#readProxyContract" target="_blank" rel="noopener noreferrer"><code>Lido</code></a></li><li><a href="https://etherscan.io/address/0x55032650b14df07b85bf18a3a3ec8e0af2e028d5#readProxyContract" target="_blank" rel="noopener noreferrer"><code>NodeOperatorsRegistry</code></a></li></ul><h4 class="anchor anchorWithStickyNavbar_y2LR" id="using-the-batch-key-submitter-ui">Using the batch key submitter UI<a class="hash-link" href="#using-the-batch-key-submitter-ui" title="Direct link to heading">â€‹</a></h4><p>Lido provides UIs for key submission: <a href="https://operators.lido.fi/submitter" target="_blank" rel="noopener noreferrer">Mainnet web interface for submitting the keys</a> and a <a href="https://operators.testnet.fi/submitter" target="_blank" rel="noopener noreferrer">Testnet web interface for submitting the keys</a>.</p><p><img alt="Submitter" src="/assets/images/submitter-ae65872a11fb812735416eb5c61f2c84.png"></p><p>If youâ€™ve used the <code>eth2.0-deposit-cli</code>, you can paste the content of the generated
<code>deposit-data-*.json</code> file as-is.</p><p>Else, prepare a JSON data of the following structure and paste it to the textarea that will appear in the center of the screen:</p><div class="codeBlockContainer_J+bg language-json theme-code-block"><div class="codeBlockContent_csEI json"><pre tabindex="0" class="prism-code language-json codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;pubkey&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;PUBLIC_KEY_1&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;withdrawal_credentials&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;WITHDRAWAL_CREDENTIALS_1&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;amount&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">32000000000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;signature&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;SIGNATURE_1&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;fork_version&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;FORK_VERSION_1&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;eth2_network_name&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ETH2_NETWORK_NAME_1&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;deposit_message_root&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;DEPOSIT_MESSAGE_ROOT_1&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;deposit_data_root&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;DEPOSIT_DATA_ROOT_1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;pubkey&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;PUBLIC_KEY_2&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;withdrawal_credentials&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;WITHDRAWAL_CREDENTIALS_2&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;amount&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">32000000000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;signature&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;SIGNATURE_2&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;fork_version&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;FORK_VERSION_2&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;eth2_network_name&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ETH2_NETWORK_NAME_2&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;deposit_message_root&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;DEPOSIT_MESSAGE_ROOT_2&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;deposit_data_root&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;DEPOSIT_DATA_ROOT_2&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>This tool will automatically split the keys into chunks and submit the transactions to your wallet for approval. Transactions will come one by one for signing. Unfortunately, we cannot send a large number of keys in a single transaction. Right now, the chunk size is 50 keys, it&#x27;s close to the limit of gas per block.</p><p>Connect your wallet, click <code>Validate</code> button, the interface would run required checks. And than click <code>Submit keys</code> button.</p><p>We now support the following connectors:</p><ul><li>MetaMask and similar injected wallets</li><li>Wallet Connect</li><li>Gnosis Safe</li><li>Ledger HQ</li></ul><p>If you want to use Gnosis, there are two ways to connect:</p><ul><li>Add this app as a <a href="https://help.gnosis-safe.io/en/articles/4022030-add-a-custom-safe-app" target="_blank" rel="noopener noreferrer">custom app</a> in your safe.</li><li><a href="https://help.gnosis-safe.io/en/articles/4356253-walletconnect-safe-app" target="_blank" rel="noopener noreferrer">Use WalletConnect</a> to connect to your safe.</li></ul><p>When you submit a form, the keys are saved in your browser. This tool checks the new key submits against the previously saved list to avoid duplication. Therefore it is important to use one browser for submitting.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="importing-the-keys-to-a-lighthouse-validator-client">Importing the keys to a Lighthouse validator client<a class="hash-link" href="#importing-the-keys-to-a-lighthouse-validator-client" title="Direct link to heading">â€‹</a></h3><p>If youâ€™ve used the forked <code>eth2.0-deposit-cli</code> to generate the keys, you can import them to a
Lighthouse validator client by running this command:</p><div class="codeBlockContainer_J+bg language-sh theme-code-block"><div class="codeBlockContent_csEI sh"><pre tabindex="0" class="prism-code language-sh codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker run --rm -it \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --name validator_keys_import \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -v &quot;$KEYS_DIR&quot;:/root/validator_keys \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -v &quot;$DATA_DIR&quot;:/root/.lighthouse \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  sigp/lighthouse \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  lighthouse account validator import \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --reuse-password \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --network &quot;$TESTNET_NAME&quot; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --datadir /root/.lighthouse/data \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --directory /root/validator_keys</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="checking-the-keys-of-all-lido-node-operators">Checking the keys of all Lido Node Operators<a class="hash-link" href="#checking-the-keys-of-all-lido-node-operators" title="Direct link to heading">â€‹</a></h3><p>Key checking works with on-chain data. Make sure key submission transactions are confirmed before checking the keys.</p><p>Never vote for increasing the key limits of Node Operators before verifying new keys are present and valid.</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="lido-cli">Lido CLI<a class="hash-link" href="#lido-cli" title="Direct link to heading">â€‹</a></h4><p>Make sure Python with pip is installed and then run:</p><div class="codeBlockContainer_J+bg language-sh theme-code-block"><div class="codeBlockContent_csEI sh"><pre tabindex="0" class="prism-code language-sh codeBlock_rtdJ thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#bfc7d5"><span class="token plain">pip install lido-cli</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">lido-cli --rpc http://1.2.3.4:8545 validate_network_keys --details</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>This operation checks all Lido keys for validity. This is a CPU-intensive process, for example, a modern desktop with 6 cores, 12 threads and great cooling processes 1k keys in 1â€”2 seconds.</p><p>You would need an RPC endpoint - a local node / RPC provider (eg Alchemy/Infura).</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="lido-node-operator-dashboard">Lido Node Operator Dashboard<a class="hash-link" href="#lido-node-operator-dashboard" title="Direct link to heading">â€‹</a></h4><p>You can also check the uploaded keys on <a href="https://operators.lido.fi" target="_blank" rel="noopener noreferrer">Mainnet Lido Node Operator Dashboard</a> or <a href="https://operators.testnet.fi" target="_blank" rel="noopener noreferrer">Testnet Lido Node Operator Dashboard</a>.</p><p>This UI shows a number of submitted, approved and valid keys for each Node Operator, along with all invalid keys in case there are any.</p><p>It is updated every 30 minutes via cron, but update period may change in the future.</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="results">Results<a class="hash-link" href="#results" title="Direct link to heading">â€‹</a></h4><h5 class="anchor anchorWithStickyNavbar_y2LR" id="you-dont-see-invalid-keys">You don&#x27;t see invalid keys<a class="hash-link" href="#you-dont-see-invalid-keys" title="Direct link to heading">â€‹</a></h5><p>If the new keys are present and valid, Node Operators can vote for increasing the key limit for the Node Operator.</p><h5 class="anchor anchorWithStickyNavbar_y2LR" id="you-spot-invalid-keys">You spot invalid keys<a class="hash-link" href="#you-spot-invalid-keys" title="Direct link to heading">â€‹</a></h5><p>It is urgent to notify Lido team and other Node Operators as soon as possible. For example, in the group chat.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/lidofinance/docs/blob/main/docs/guides/node-operator-manual.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/lido-dao"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Lido DAO</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/guides/oracle-operator-manual"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Oracle Operator Manual</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#general-overview" class="table-of-contents__link toc-highlight">General overview</a><ul><li><a href="#the-fee" class="table-of-contents__link toc-highlight">The fee</a></li></ul></li><li><a href="#operations-howto" class="table-of-contents__link toc-highlight">Operations HOWTO</a><ul><li><a href="#expressing-interest-to-the-dao-holders" class="table-of-contents__link toc-highlight">Expressing interest to the DAO holders</a></li><li><a href="#generating-signing-keys" class="table-of-contents__link toc-highlight">Generating signing keys</a></li><li><a href="#validating-the-keys" class="table-of-contents__link toc-highlight">Validating the keys</a></li><li><a href="#submitting-the-keys" class="table-of-contents__link toc-highlight">Submitting the keys</a></li><li><a href="#importing-the-keys-to-a-lighthouse-validator-client" class="table-of-contents__link toc-highlight">Importing the keys to a Lighthouse validator client</a></li><li><a href="#checking-the-keys-of-all-lido-node-operators" class="table-of-contents__link toc-highlight">Checking the keys of all Lido Node Operators</a></li></ul></li></ul></div></div></div></div></main></div></div></div>
<script src="/assets/js/runtime~main.58ba80df.js"></script>
<script src="/assets/js/main.41292468.js"></script>
</body>
</html>